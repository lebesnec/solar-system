@use '@angular/material' as mat;
@use 'sass:map';
@use "sass:math";
@include mat.core();

// This file was generated by running 'ng generate @angular/material:m3-theme'.
// Proceed with caution if making changes to this file.

// Note: Color palettes are generated from primary: #2196f3, secondary: #00bcd4
$_palettes: (
  primary: (
    0: #000000,
    10: #001d36,
    20: #003258,
    25: #003d6a,
    30: #00497d,
    35: #005590,
    40: #0061a4,
    50: #007bcc,
    60: #1e95f2,
    70: #63b0ff,
    80: #9ecaff,
    90: #d1e4ff,
    95: #eaf1ff,
    98: #f8f9ff,
    99: #fdfcff,
    100: #ffffff,
  ),
  secondary: (
    0: #000000,
    10: #001f25,
    20: #00363e,
    25: #00424c,
    30: #004e59,
    35: #005b68,
    40: #006876,
    50: #008394,
    60: #009fb4,
    70: #00bcd4,
    80: #44d8f1,
    90: #a1efff,
    95: #d4f7ff,
    98: #eefcff,
    99: #f7fdff,
    100: #ffffff,
  ),
  tertiary: (
    0: #000000,
    10: #251431,
    20: #3b2948,
    25: #463453,
    30: #523f5f,
    35: #5e4b6c,
    40: #6b5778,
    50: #846f92,
    60: #9f89ad,
    70: #baa3c8,
    80: #d6bee4,
    90: #f2daff,
    95: #fbecff,
    98: #fff7fd,
    99: #fffbff,
    100: #ffffff,
  ),
  neutral: (
    0: #000000,
    10: #1a1c1e,
    20: #2f3033,
    25: #3a3b3e,
    30: #45474a,
    35: #515255,
    40: #5d5e61,
    50: #76777a,
    60: #909094,
    70: #ababae,
    80: #c6c6ca,
    90: #e2e2e6,
    95: #f1f0f4,
    98: #faf9fc,
    99: #fdfcff,
    100: #ffffff,
    4: #0d0e11,
    6: #121316,
    12: #1e2022,
    17: #282a2d,
    22: #333538,
    24: #38393c,
    87: #dadadd,
    92: #e8e8eb,
    94: #eeedf1,
    96: #f4f3f7,
  ),
  neutral-variant: (
    0: #000000,
    10: #171c22,
    20: #2c3137,
    25: #373c43,
    30: #43474e,
    35: #4e535a,
    40: #5a5f66,
    50: #73777f,
    60: #8d9199,
    70: #a7abb4,
    80: #c3c7cf,
    90: #dfe2eb,
    95: #edf1fa,
    98: #f8f9ff,
    99: #fdfcff,
    100: #ffffff,
  ),
  error: (
    0: #000000,
    10: #410002,
    20: #690005,
    25: #7e0007,
    30: #93000a,
    35: #a80710,
    40: #ba1a1a,
    50: #de3730,
    60: #ff5449,
    70: #ff897d,
    80: #ffb4ab,
    90: #ffdad6,
    95: #ffedea,
    98: #fff8f7,
    99: #fffbff,
    100: #ffffff,
  ),
);

$_rest: (
  secondary: map.get($_palettes, secondary),
  neutral: map.get($_palettes, neutral),
  neutral-variant: map.get($_palettes,  neutral-variant),
  error: map.get($_palettes, error),
);
$_primary: map.merge(map.get($_palettes, primary), $_rest);
$_tertiary: map.merge(map.get($_palettes, tertiary), $_rest);

$dark-theme: mat.define-theme((
  color: (
    theme-type: dark,
    primary: $_primary,
    tertiary: $_tertiary,
  ),
  typography: (
    plain-family: '"Exo 2", sans-serif;',
    brand-family: '"Exo 2", sans-serif;'
  ),
));

html {
  @include mat.core-theme($dark-theme);
  @include mat.toolbar-theme($dark-theme);
  @include mat.input-theme($dark-theme);
  @include mat.icon-button-theme($dark-theme);
  @include mat.button-theme($dark-theme);
  @include mat.divider-theme($dark-theme);
  @include mat.expansion-theme($dark-theme);
  @include mat.grid-list-theme($dark-theme);
  @include mat.dialog-theme($dark-theme);
  @include mat.sidenav-theme($dark-theme);
  @include mat.list-theme($dark-theme);
  @include mat.button-toggle-theme($dark-theme);
  @include mat.menu-theme($dark-theme);
  @include mat.form-field-theme($dark-theme);

  --mdc-dialog-container-shape: 6px;
  --mat-dialog-container-max-width: 100vw;
  --mat-standard-button-toggle-shape: 5px;
  --mdc-outlined-button-container-shape: 6px;
}

// custom global style:

.mat-mdc-menu-panel {
  background: hsl(0, 0%, 40%);
}
@supports ((-webkit-backdrop-filter: none) or (backdrop-filter: none)) {
  .mat-mdc-menu-panel {
    backdrop-filter: blur(10px);
    background-color: rgba(255, 255, 255, 0.3) !important;
  }
}

.mat-mdc-menu-item {
  color: white;
  min-width: 150px;
  padding-left: 30px;
}

.mat-mdc-menu-item:hover:not([disabled]) {
  background: rgba(0, 0, 0, 0.09);
}

// Dialog
::ng-deep .mat-mdc-dialog-container {
  .mat-mdc-dialog-title, .mat-mdc-dialog-content {
    color: white !important;
  }
  .mat-mdc-dialog-title {
    padding-top: 10px !important;
    padding-right: 10px !important;
    cursor: move !important;
    margin-bottom: 0 !important;
    display: flex !important;
    align-items: center !important;
  }
  .mat-mdc-dialog-content {
    max-height: calc(90vh);
  }
  .mat-mdc-dialog-title .close-button {
    margin-left: auto !important;
    font-size: 20px !important;
    color: rgba(196, 196, 196, 0.6) !important;
  }
  .mat-mdc-dialog-title .close-button:hover {
    color: rgba(196, 196, 196, 0.8) !important;
  }
  .mat-mdc-dialog-surface {
    background: hsl(0, 0%, 40%) !important;
  }
  @supports ((-webkit-backdrop-filter: none) or (backdrop-filter: none)) {
    .mat-mdc-dialog-surface {
      backdrop-filter: blur(10px) !important;
      background-color: hsla(0, 0%, 100%, 0.15) !important;
    }
  }
}
@media only screen and (max-width: 800px) {
  ::ng-deep {
    // fullscreen dialog on mobile
    .celestial-body-dialog-panel, .settings-dialog-panel, .contact-dialog-panel, .about-dialog-panel, .legals-dialog-panel {
      min-width: unset !important;
      max-width: unset !important;
      width: 100% !important;
      height: 100% !important;
      margin: 0 !important;
    }
    .mat-mdc-dialog-content {
      max-height: 100% !important;
    }
  }
}

// helper to convert a color to a css filter, to easily change the color af svg element
// See https://stackoverflow.com/a/68034320/990193
@mixin recolor($color: #000) {
  $r: math.div(red($color), 255);
  $g: math.div(green($color), 255);
  $b: math.div(blue($color), 255);
  $a: alpha($color);

  // grayscale fallback if SVG from data url is not supported
  $lightness: lightness($color);
  filter: saturate(0%) brightness(0%) invert($lightness) opacity($a);

  // color filter
  $svg-filter-id: "recolor";
  filter: url('data:image/svg+xml;utf8,\
  <svg xmlns="http://www.w3.org/2000/svg">\
    <filter id="#{$svg-filter-id}" color-interpolation-filters="sRGB">\
      <feColorMatrix type="matrix" values="\
       0 0 0 0 #{$r}\
       0 0 0 0 #{$g}\
       0 0 0 0 #{$b}\
       0 0 0 #{$a} 0\
      "/>\
    </filter>\
  </svg>\
  ##{$svg-filter-id}');
}

